datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model ExerciseSession {
  createdAt      DateTime        @default(now())
  endTime        DateTime?
  exercise       Exercise?       @relation(fields: [exerciseId], references: [id])
  exerciseId     String?
  exerciseCounts ExerciseCount[]
  id             String          @id @default(cuid())
  startTime      DateTime?
  updatedAt      DateTime        @updatedAt
  user           User?           @relation(fields: [userId], references: [id])
  userId         String?
}

model ExerciseCount {
  count             Int?
  createdAt         DateTime         @default(now())
  exerciseSession   ExerciseSession? @relation(fields: [exerciseSessionId], references: [id])
  exerciseSessionId String?
  id                String           @id @default(cuid())
  updatedAt         DateTime         @updatedAt
}

model Exercise {
  createdAt        DateTime          @default(now())
  exerciseSessions ExerciseSession[]
  id               String            @id @default(cuid())
  name             String?
  updatedAt        DateTime          @updatedAt
}

model User {
  createdAt        DateTime          @default(now())
  email            String?           @unique
  exerciseSessions ExerciseSession[]
  firstName        String?
  id               String            @id @default(cuid())
  lastName         String?
  password         String
  roles            Json
  updatedAt        DateTime          @updatedAt
  username         String            @unique
}
